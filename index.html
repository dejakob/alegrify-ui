<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Alegrify UI</title>
    <link rel="stylesheet" href="./alegrify-ui.css" />
</head>

<body class="alegrify-body">
    <main id="page-content" class="alegrify-main"></main>

    <script src="node_modules/markdown-it/dist/markdown-it.min.js"></script>
    <script>
        const elements = {
            pageContent: document.getElementById('page-content')
        }

        initIndex();

        function initIndex() {
            loadPage(`./docs/index.html`);
        }

        async function loadPage(path) {
            const response = await fetch(path);
            const htmlResult = await response.text();

            elements.pageContent.innerHTML = htmlResult;
            elements.pageContent.querySelectorAll('a').forEach(replaceLink);
        }

        function replaceLink(aTag) {
            aTag.addEventListener('click', handleLinkClick);
        }

        function handleLinkClick(clickEvent) {
            const href = clickEvent.target.href.replace(window.location.href, '');

            clickEvent.preventDefault();
            loadPage(`/docs/${href}`);
        }
    </script>
</body>

</html>